### 基本架构
+ 节点 Node
  + 每个运行es的实例
+ 索引 Index
  + 文档的集合，类似于数据库中的表
+ 分片 Shard
  + 索引可以分成多个分片，每个分片是一个独立的lucene索引，用于存储部分数据。
  + 分片可以水平扩展和分布式存储，提升性能和容量，允许数据在多个节点上并行处理和存储
  + 分片数量在创建索引时指定，一旦创建后不能修改
  + number_of_shards
+ 副本 Replica
  + 每个分片可以有多个副本，提供数据的冗余备份和故障转移
  + 副本数量在创建索引时指定，并且可以在运行时动态修改
  + number_of_replicas
+ 倒排索引 Inverted Index
  + 词条作为键，文档id作为值

### 优化索引
+ 合理设置分片和副本
  + 根据数据量和集权规模合理设置
+ 优化文档结构
  + 合适的数据类型，避免不必要的字段
+ 索引设置优化
  + 禁用不需要的索引功能，如_source，dynamic mapping等
  + 设置合适的刷新间隔refresh_interval
+ 查询和过滤优化
  + 使用适合的查询方式，term，match
  + 使用filter来缓存常用的查询结果
+ 性能监控和调优

### 索引的刷新和合并
+  刷新
  + 索引的写入操作并不会立即对搜索可见，默认每秒刷新一次
  + 过于频繁的刷新增加磁盘IO和CPU开销，降低写入性能
  + 过于稀少的刷新导致搜索无法立即看到最新的文档数据
+ 合并
  + 在文档被更新或删除时，es会进行合并操作，将以删除或旧版本的文档从磁盘中清除

